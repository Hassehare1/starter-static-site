<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Min f√∂rsta sida</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Toppmeny -->
  <nav>
    <a href="/index.html">Hem</a>
    <a href="/about.html">Om</a>
  </nav>

  <main>
    <h1>üöÄ Min f√∂rsta uppdaterade sida via GitHub och Vercel!</h1>
    <p>Den h√§r sidan √§r deployad automatiskt via GitHub.</p>

    <button id="ping">Klicka mig</button>
    <pre id="out">...</pre>
  </main>

  <script>
    async function getQuote() {
      const out = document.getElementById("out");
      out.textContent = "H√§mtar...";
      try {
        const r = await fetch("/api/quote?ts=" + Date.now(), { cache: "no-store" });
        if (!r.ok) throw new Error("API-fel " + r.status);
        const d = await r.json();
        out.textContent = `‚Äú${d.content}‚Äù ‚Äî ${d.author}`;
      } catch (e) {
        out.textContent = "Kunde inte h√§mta data.";
        console.error(e);
      }
    }

    document.getElementById("ping").addEventListener("click", getQuote);
    getQuote(); // Visa ett citat direkt vid inladdning
  </script>
</body>
</html>
