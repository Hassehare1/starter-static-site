<!doctype html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Min f√∂rsta sida</title>
  </head>

  <body>
    <!-- Enkel meny -->
    <p><a href="index.html">Hem</a> <a href="about.html">Om</a></p>

    <h1>üöÄ Min f√∂rsta uppdaterade sida via GitHub och Vercel!</h1>
    <p>Den h√§r sidan √§r deployad automatiskt via GitHub.</p>

    <button id="ping">Klicka mig</button>
    <pre id="out">‚Ä¶</pre>

    <script>
      async function getQuote() {
        const out = document.getElementById("out");
        out.textContent = "H√§mtar‚Ä¶";

        // 1) F√∂rs√∂k Quotable
        try {
          const r1 = await fetch("https://api.quotable.io/random?maxLength=120&ts=" + Date.now(), { cache: "no-store" });
          if (!r1.ok) throw new Error("Quotable: " + r1.status);
          const d1 = await r1.json();
          out.textContent = `‚Äú${d1.content}‚Äù ‚Äî ${d1.author}`;
          return;
        } catch (e) {
          console.warn("Quotable fail:", e);
        }

        // 2) F√∂rs√∂k Type.fit (stort JSON med m√•nga citat)
        try {
          const r2 = await fetch("https://type.fit/api/quotes");
          if (!r2.ok) throw new Error("Type.fit: " + r2.status);
          const list = await r2.json();
          const item = list[Math.floor(Math.random() * list.length)];
          const q = item?.text || "Ok√§nt citat";
          const a = item?.author || "Ok√§nd";
          out.textContent = `‚Äú${q}‚Äù ‚Äî ${a}`;
          return;
        } catch (e) {
          console.warn("Type.fit fail:", e);
        }

        // 3) Lokal fallback
        const lokala = [
          "All kod √§r provisorisk tills den fungerar.",
          "Sm√• steg √§r snabbast i l√§ngden.",
          "G√∂r det enkelt f√∂rst, optimera sen."
        ];
        const a = ["Du", "Ok√§nd", "AI-kompisen"][Math.floor(Math.random() * 3)];
        const q = lokala[Math.floor(Math.random() * lokala.length)];
        out.textContent = `‚Äú${q}‚Äù ‚Äî ${a}`;
      }

      document.getElementById("ping").addEventListener("click", getQuote);
      // H√§mta direkt vid inladdning ocks√•:
      getQuote();
    </script>
  </body>
</html>
